"use strict";(self.webpackChunkscalekit_docs=self.webpackChunkscalekit_docs||[]).push([[6617],{9351:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>r});var n=s(4848),t=s(8453);const a={slug:"idtoken-claims",title:"Inspect Claims in ID Token with Scalekit",description:"Understand how to inspect and validate claims in an ID Token issued by Scalekit. Learn about the structure of ID Tokens, including their payload, and the significance of various claims for user profile information.",keywords:["ID Token","JWT","Scalekit","User Authentication","Claims","JSON Web Token","Profile Information","Secure Authentication","Token Validation","OAuth"]},l="Inspect Claims in ID Token",d={id:"sso/guides/key-concepts/idtoken-claims",title:"Inspect Claims in ID Token with Scalekit",description:"Understand how to inspect and validate claims in an ID Token issued by Scalekit. Learn about the structure of ID Tokens, including their payload, and the significance of various claims for user profile information.",source:"@site/docs/sso/guides/key-concepts/5-idtoken-claims.mdx",sourceDirName:"sso/guides/key-concepts",slug:"/sso/guides/key-concepts/idtoken-claims",permalink:"/docs-staging/sso/guides/key-concepts/idtoken-claims",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{slug:"idtoken-claims",title:"Inspect Claims in ID Token with Scalekit",description:"Understand how to inspect and validate claims in an ID Token issued by Scalekit. Learn about the structure of ID Tokens, including their payload, and the significance of various claims for user profile information.",keywords:["ID Token","JWT","Scalekit","User Authentication","Claims","JSON Web Token","Profile Information","Secure Authentication","Token Validation","OAuth"]},sidebar:"ssoSidebar",previous:{title:"Redirect URI",permalink:"/docs-staging/sso/guides/key-concepts/redirect-uri"},next:{title:"Normalized User Profile",permalink:"/docs-staging/sso/guides/key-concepts/user-profile"}},c={},r=[{value:"Sample Payload",id:"sample-payload",level:2},{value:"Full list of ID Token Claims",id:"full-list-of-id-token-claims",level:2},{value:"Usage Notes",id:"usage-notes",level:2}];function o(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components},{SimpleCode:s}=i;return s||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("SimpleCode",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"inspect-claims-in-id-token",children:"Inspect Claims in ID Token"})}),"\n",(0,n.jsx)(i.p,{children:"An ID Token is a JSON Web Token (JWT) containing cryptographically signed claims about a user's profile information. This is issued by Scalekit after successful authentication. The ID Token is a Base64-encoded JSON object with three parts: header, payload, and signature."}),"\n",(0,n.jsx)(i.p,{children:"Here's an example of the payload. Note this is formatted for readability and the header and signature fields are skipped."}),"\n",(0,n.jsx)(i.h2,{id:"sample-payload",children:"Sample Payload"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-js",children:'{\n  "iss": "https://yoursaas.scalekit.com",\n  "azp": "skc_12205605011849527",\n  "aud": ["skc_12205605011849527"],\n  "amr": ["conn_17576372041941092"],\n  "sub": "conn_17576372041941092;google-oauth2|104630259163176101050",\n  "at_hash": "HK6E_P6Dh8Y93mRNtsDB1Q",\n  "c_hash": "HK6E_P6Dh8Y93mRNtsDB1Q",\n  "iat": 1353601026,\n  "exp": 1353604926,\n  "name": "John Doe",\n  "given_name": "John",\n  "family_name": "Doe",\n  "picture": "https://lh3.googleusercontent.com/a/ACg8ocKNE4TZj2kyLOj094kie_gDlUyU7JCZtbaiEma17URCEf=s96-c",\n  "locale": "en",\n  "email": "john.doe@acmecorp.com",\n  "email_verified": true\n}\n'})}),"\n",(0,n.jsx)(i.h2,{id:"full-list-of-id-token-claims",children:"Full list of ID Token Claims"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Claim"}),(0,n.jsx)(i.th,{children:"Presence"}),(0,n.jsx)(i.th,{children:"Description"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"aud"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Intended audience (client ID)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"amr"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Authentication Method Reference values"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"exp"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Expiration time (Unix timestamp)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"iat"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Issuance time (Unix timestamp)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"iss"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Issuer identifier (Scalekit environment URL)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"oid"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Organization ID of the user"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"sub"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Subject identifier for the user"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"at_hash"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Access token hash"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"c_hash"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"Authorization code hash"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"azp"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsxs)(i.td,{children:["Authorized presenter (usually same as ",(0,n.jsx)(i.code,{children:"aud"}),")"]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"email"})}),(0,n.jsx)(i.td,{children:"Always"}),(0,n.jsx)(i.td,{children:"User's email address"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"email_verified"})}),(0,n.jsx)(i.td,{children:"Optional"}),(0,n.jsx)(i.td,{children:"Email verification status"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"name"})}),(0,n.jsx)(i.td,{children:"Optional"}),(0,n.jsx)(i.td,{children:"User's full name"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"family_name"})}),(0,n.jsx)(i.td,{children:"Optional"}),(0,n.jsx)(i.td,{children:"User's surname or last name"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"given_name"})}),(0,n.jsx)(i.td,{children:"Optional"}),(0,n.jsx)(i.td,{children:"User's given name or first name"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"locale"})}),(0,n.jsx)(i.td,{children:"Optional"}),(0,n.jsx)(i.td,{children:"User's locale (BCP 47 language tag)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(s,{className:"text--semibold",children:"picture"})}),(0,n.jsx)(i.td,{children:"Optional"}),(0,n.jsx)(i.td,{children:"URL of user's profile picture"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"The ID Token is received over a secure HTTPS channel using the client secret."}),"\n",(0,n.jsx)(i.li,{children:"Validation of the ID Token is handled automatically when using the Scalekit SDK."}),"\n",(0,n.jsxs)(i.li,{children:["The ",(0,n.jsx)(s,{children:"sub"})," claim combines the ",(0,n.jsx)(s,{children:"connection_id"})," and the provider's unique identifier."]}),"\n",(0,n.jsxs)(i.li,{children:["The ",(0,n.jsx)(s,{children:"iss"})," claim must match your Scalekit environment URL."]}),"\n",(0,n.jsxs)(i.li,{children:["The ",(0,n.jsx)(s,{children:"amr"})," claim typically contains the ",(0,n.jsx)(s,{children:"connection_id"})," used for authentication."]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"This structure provides a neutral, factual reference for ID Token Claims in Scalekit, organized according to the data structure itself."}),"\n",(0,n.jsxs)(i.p,{children:["An ID Token is nothing but a cryptographically signed Base64-encoded JSON object containing a set of name/value pairs about the user's profile information. Essentially, it is a JWT token. Ideally, it is advised that you validate an ID token before you use it, but since you are communicating directly with Scalekit over an intermediary-free HTTPS channel and using your client secret to exchange the ",(0,n.jsx)(s,{children:"code"})," for the ID Token, you can be confident that the token you receive really comes from Scalekit and is valid."]}),"\n",(0,n.jsx)(i.p,{children:"If you are using our Scalekit SDK to exchange the code for the ID Token, the work of decoding the base64url-encoded values and parsing the JSON within, validating the JWT and accessing the claims within the ID token is automatically taken care of."})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,i,s)=>{s.d(i,{R:()=>l,x:()=>d});var n=s(6540);const t={},a=n.createContext(t);function l(e){const i=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(a.Provider,{value:i},e.children)}}}]);