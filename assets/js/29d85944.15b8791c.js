"use strict";(self.webpackChunkscalekit_docs=self.webpackChunkscalekit_docs||[]).push([[9790],{7438:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var s=n(4848),t=n(8453);const r={title:"Integrate Scalekit with Firebase for Seamless Single Sign-on Authentication",description:"Learn how to integrate Scalekit with Firebase applications via OpenID Connect (OIDC) for enhanced security and user experience. Follow our step-by-step guide to configure Scalekit as an OIDC provider in Firebase and manage SSO within your app's Firebase environment.",keywords:["Scalekit","Firebase","OpenID Connect","OIDC","Single Sign-on","SSO","Authentication","Security","User Experience"]},a="Integrate with Firebase",l={id:"sso/guides/integrate-with-your-auth-system/firebase",title:"Integrate Scalekit with Firebase for Seamless Single Sign-on Authentication",description:"Learn how to integrate Scalekit with Firebase applications via OpenID Connect (OIDC) for enhanced security and user experience. Follow our step-by-step guide to configure Scalekit as an OIDC provider in Firebase and manage SSO within your app's Firebase environment.",source:"@site/docs/sso/guides/integrate-with-your-auth-system/firebase.mdx",sourceDirName:"sso/guides/integrate-with-your-auth-system",slug:"/sso/guides/integrate-with-your-auth-system/firebase",permalink:"/docs-staging/sso/guides/integrate-with-your-auth-system/firebase",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Integrate Scalekit with Firebase for Seamless Single Sign-on Authentication",description:"Learn how to integrate Scalekit with Firebase applications via OpenID Connect (OIDC) for enhanced security and user experience. Follow our step-by-step guide to configure Scalekit as an OIDC provider in Firebase and manage SSO within your app's Firebase environment.",keywords:["Scalekit","Firebase","OpenID Connect","OIDC","Single Sign-on","SSO","Authentication","Security","User Experience"]},sidebar:"ssoSidebar",previous:{title:"Integrate with Auth0",permalink:"/docs-staging/sso/guides/integrate-with-your-auth-system/auth0"},next:{title:"Authorization URL",permalink:"/docs-staging/sso/guides/key-concepts/authorization-url"}},o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Before You Begin",id:"before-you-begin",level:2},{value:"Set up Firebase",id:"set-up-firebase",level:2},{value:"Add Scalekit as an OpenID Connect Provider",id:"add-scalekit-as-an-openid-connect-provider",level:3},{value:"Retrieve Configuration Details from Scalekit",id:"retrieve-configuration-details-from-scalekit",level:3},{value:"Add Redirect URI in Scalekit API Config",id:"add-redirect-uri-in-scalekit-api-config",level:3},{value:"Handle Identity Provider-Initiated Single Sign-On",id:"handle-identity-provider-initiated-single-sign-on",level:3},{value:"Enable Single Sign-on in Your Login Page",id:"enable-single-sign-on-in-your-login-page",level:2}];function d(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{CodeWithHeader:r,Subtitle:a}=i;return r||p("CodeWithHeader",!0),a||p("Subtitle",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"integrate-with-firebase",children:"Integrate with Firebase"})}),"\n",(0,s.jsx)(a,{children:"Enable SSO for Firebase apps with Scalekit OpenID Connect"}),"\n",(0,s.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(i.p,{children:"This guide streamlines the integration of Scalekit with Firebase applications, enabling seamless Single Sign-on (SSO)\nauthentication for your users. We'll walk you through configuring your Firebase project with Scalekit and provide sample\ncode to manage Scalekit SSO within your app's Firebase environment."}),"\n",(0,s.jsx)("figure",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Scalekit - Firebase Integration",src:n(5508).A+"",width:"3270",height:"954"}),"\n",(0,s.jsx)("figcaption",{children:"Scalekit as Your OpenID Connect Provider for seamless Firebase integration"})]})}),"\n",(0,s.jsx)(i.h2,{id:"before-you-begin",children:"Before You Begin"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Ensure access to Firebase Authentication with Identity Platform. OpenID Connect is not available in Legacy Firebase\nAuthentication. See the ",(0,s.jsx)(i.a,{href:"https://cloud.google.com/identity-platform/docs/product-comparison",children:"product comparison"})," for\ndetails."]}),"\n",(0,s.jsxs)(i.li,{children:["Access to your ",(0,s.jsx)(i.a,{href:"https://app.scalekit.com",children:"Scalekit account"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"set-up-firebase",children:"Set up Firebase"}),"\n",(0,s.jsx)(i.h3,{id:"add-scalekit-as-an-openid-connect-provider",children:"Add Scalekit as an OpenID Connect Provider"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Log in to the ",(0,s.jsx)(i.a,{href:"https://console.firebase.google.com/",children:"Firebase Management Console"})," and select your project."]}),"\n",(0,s.jsxs)(i.li,{children:["Go to ",(0,s.jsx)(i.strong,{children:"Authentication"})," > ",(0,s.jsx)(i.strong,{children:"Sign-in method"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Click ",(0,s.jsx)(i.strong,{children:"Add new provider"})," and select OpenID Connect."]}),"\n",(0,s.jsxs)(i.li,{children:["Choose Code flow for the ",(0,s.jsx)(i.strong,{children:"Grant Type"}),' and set the Name to "Scalekit".']}),"\n",(0,s.jsx)(i.li,{children:"Retrieve the Client ID, Issuer URL, and Client secret from your Scalekit API Config."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Sign-in tab in your Firebase Console",src:n(8013).A+"",width:"2952",height:"2474"})}),"\n",(0,s.jsx)(i.h3,{id:"retrieve-configuration-details-from-scalekit",children:"Retrieve Configuration Details from Scalekit"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Log in to your Scalekit Dashboard and navigate to ",(0,s.jsx)(i.strong,{children:"Settings"})," > ",(0,s.jsx)(i.strong,{children:"API Config"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Locate the following fields in your Scalekit API Config:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Client ID"}),"\n",(0,s.jsx)(i.li,{children:"Environment URL"}),"\n",(0,s.jsx)(i.li,{children:"Client secret (generate a new one if needed)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)("figure",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Scalekit - Firebase Integration",src:n(7334).A+"",width:"3380",height:"2474"}),"\n",(0,s.jsx)("figcaption",{children:"Copy credentials from your Scalekit Dashboard"})]})}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Copy the Client ID from Scalekit and paste it into the ",(0,s.jsx)(i.strong,{children:"Client ID"})," field in your Firebase project's OIDC provider\nsettings."]}),"\n",(0,s.jsxs)(i.li,{children:["Copy the Environment URL from Scalekit and paste it into the ",(0,s.jsx)(i.strong,{children:"Issuer URL"})," field in your Firebase project's OIDC\nprovider settings."]}),"\n",(0,s.jsxs)(i.li,{children:["Copy the newly generated Client secret from Scalekit and paste it into the ",(0,s.jsx)(i.strong,{children:"Client secret"})," field in your Firebase\nproject's OIDC provider settings. After filling in these details, your Firebase project's OIDC provider settings\nshould look similar to this:"]}),"\n"]}),"\n",(0,s.jsx)("figure",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Scalekit - Firebase Integration",src:n(5423).A+"",width:"3380",height:"2474"}),"\n",(0,s.jsx)("figcaption",{children:"Paste in your Firebase Console"})]})}),"\n",(0,s.jsx)(i.h3,{id:"add-redirect-uri-in-scalekit-api-config",children:"Add Redirect URI in Scalekit API Config"}),"\n",(0,s.jsx)(i.p,{children:"After defining new OIDC provider, you would need to Configure OIDC Integration in your Firebase project. Copy the\nCallback URL from your Firebase project and add it as a new Redirect URI in your Scalekit API Config"}),"\n",(0,s.jsx)("figure",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Scalekit - Firebase Integration",src:n(6768).A+"",width:"3380",height:"2474"}),"\n",(0,s.jsx)("figcaption",{children:'In your Firebase project, copy the Callback URL under "Configure OIDC Integration"'})]})}),"\n",(0,s.jsx)(i.p,{children:"Add this URL as a new Redirect URI in your Scalekit API Config."}),"\n",(0,s.jsx)("figure",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Scalekit - Firebase Integration",src:n(1593).A+"",width:"3380",height:"2474"}),"\n",(0,s.jsx)("figcaption",{children:"Add this URL as a new Redirect URI in your Scalekit API Config."})]})}),"\n",(0,s.jsx)(i.h3,{id:"handle-identity-provider-initiated-single-sign-on",children:"Handle Identity Provider-Initiated Single Sign-On"}),"\n",(0,s.jsx)(i.p,{children:"In the current setup, Firebase acts as an OpenID Connect (OIDC) provider for Scalekit. When a user signs in with\nFirebase, their information is sent to Scalekit. Scalekit then redirects the user to authenticate with their identity\nprovider and sends the user information back to your app."}),"\n",(0,s.jsxs)(i.p,{children:["Users can access your app directly from their identity provider via Single Sign-On (SSO). To handle these SSO requests,\ncreate a dedicated endpoint in your app. This endpoint will complete the authentication flow when users initiate SSO\nfrom their identity provider. For detailed instructions on implementing the IdP-initiated SSO flow, refer to\n",(0,s.jsx)(i.a,{href:"docs/sso/guides/setup-sso/implement-idp-initiated-sso",children:"Implement IdP-Initiated SSO"})," guide. This guide walks you through\nthe necessary steps to set up and handle SSO requests originating from the identity provider."]}),"\n",(0,s.jsx)(i.h2,{id:"enable-single-sign-on-in-your-login-page",children:"Enable Single Sign-on in Your Login Page"}),"\n",(0,s.jsx)(i.p,{children:"Modify your app's login page to invoke SSO and send the request to Scalekit with user details."}),"\n",(0,s.jsx)(r,{title:"Login.js",children:(0,s.jsx)(i.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,s.jsxs)(i.code,{className:"language-javascript",children:[(0,s.jsx)(i.span,{className:"line"}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"// Initialize Scalekit as OIDC provider"})}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"const"}),(0,s.jsx)(i.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" scalekitProvider"}),(0,s.jsx)(i.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:" ="}),(0,s.jsx)(i.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:" new"}),(0,s.jsx)(i.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:" OAuthProvider"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"("}),(0,s.jsx)(i.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"'oidc.scalekit'"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,s.jsx)(i.span,{className:"line"}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"// Add custom parameters (organization_id, connection_id, or domain)"})}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"scalekitProvider."}),(0,s.jsx)(i.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"setCustomParameters"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"({"}),(0,s.jsx)(i.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"domain"}),(0,s.jsx)(i.span,{style:{color:"#0184BC","--shiki-dark":"#E1E4E8"},children:":"}),(0,s.jsx)(i.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" 'email@yourcustomer.com'"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"});"})]}),"\n",(0,s.jsx)(i.span,{className:"line"}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"// When user clicks Login with SSO"})}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"loginbtn."}),(0,s.jsx)(i.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"onclick"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"() {"})]}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"  // Start sign-in and get user details"})}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"  signInWithPopup"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(auth, scalekitProvider)"})]}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    ."}),(0,s.jsx)(i.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"then"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(("}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"result"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:") "}),(0,s.jsx)(i.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"=>"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"      // Get OAuth access token and ID token"})}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"      const"}),(0,s.jsx)(i.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" credential"}),(0,s.jsx)(i.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:" ="}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" OAuthProvider."}),(0,s.jsx)(i.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"credentialFromResult"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(result);"})]}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"      const"}),(0,s.jsx)(i.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" user"}),(0,s.jsx)(i.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:" ="}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" result."}),(0,s.jsx)(i.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"user"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"."}),(0,s.jsx)(i.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"providerData"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"["}),(0,s.jsx)(i.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:"0"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"];"})]}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"      // Access user details via user.email, user.displayName, etc."})}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    })"})}),"\n",(0,s.jsxs)(i.span,{className:"line",children:[(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    ."}),(0,s.jsx)(i.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"catch"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(("}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"error"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:") "}),(0,s.jsx)(i.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"=>"}),(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"      // Handle errors"})}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    });"})}),"\n",(0,s.jsx)(i.span,{className:"line",children:(0,s.jsx)(i.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,s.jsx)(i.span,{className:"line"})]})})}),"\n",(0,s.jsx)(i.p,{children:"By following these steps, you can seamlessly integrate Scalekit's Social Login into your Firebase application, employ\nSingle Sign-on authentication seamlessly."})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}function p(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},5508:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/0-9588bf62bd04942f52ad9ead939ac920.png"},8013:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/1-57276da8df983a59804aa4f48146a8f6.png"},7334:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/2-095c02e3fb37481aaada136c56431234.png"},5423:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/3-f4f928178c627217ace4c6fd97e4d33b.png"},6768:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/4-b8b1a2c2d16d2f88e14e2836a68f801f.png"},1593:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/5-f0b478268f0edec8da7a6bb27bf5ddbb.png"},8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>l});var s=n(6540);const t={},r=s.createContext(t);function a(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);