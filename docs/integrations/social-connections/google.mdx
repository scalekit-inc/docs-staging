# Google as Your Sign In Option

<Subtitle>
  Easily add Google Sign In to your app with Scalekit
</Subtitle>

## Overview

Scalekit enables apps to easily let users sign in using Google as their social connector. This guide walks you through
the process of setting up the connection between Scalekit and Google, and using the Scalekit SDK to add "Sign in with
Google" to your application.

<figure>
  ![Overview
  Diagram](@site/docs/sso/assets/single-sign-on/quickstart/scalekit_social.png)
  <figcaption>A diagram showing "Your Application" connecting to "Scalekit" via OpenID Connect, which links to Google using OAuth 2.0.</figcaption>
</figure>

By the end of this guide, you will be able to:

1. Set up an OAuth 2.0 connection between Scalekit and Google Use the
2. Scalekit SDK to add "Sign in with Google" to your application

## Connect Google with Scalekit

### Setting Up Your Google Cloud Project

From the Google Cloud Console, create a new project or open an existing one. Navigate to APIs and Services from the left sidebar, then select Credentials from the submenu.

### Configuring OAuth Client ID

<figure>
  ![Overview
  Diagram](@site/docs/sso/assets/integrations/google-social/0-1-setup-a-project-on-google-cloud.png)
  <figcaption>A diagram showing "Your Application" connecting to "Scalekit" via OpenID Connect, which links to Google using OAuth 2.0.</figcaption>
</figure>

1. Choose **OAuth Client ID** to set up user authentication through Scalekit.
2. Click **Configure Consent Screen** when prompted.
3. Select **External** as the user type for applications intended for users outside your organization.
4. Click **Next** to proceed.

### Setting Up the Consent Screen

A form will appear to collect information about your app.

<figure>
  ![Overview
  Diagram](@site/docs/sso/assets/integrations/google-social/0-2-select-scopes.png)
  <figcaption>Setting Up OAuth Consent Screen in Google Cloud: Customize App Information and User Permissions</figcaption>
</figure>

Follow these steps:

1. In the **Scopes** section:

   - Add the <SimpleCode>userinfo.email</SimpleCode> and <SimpleCode>userinfo.profile</SimpleCode> scopes.
   - Select these items in the modal that appears on the right.
   - Click **Update** to save your selections.

2. Add **Test Users**:

   - Enter Google email addresses for testing purposes.
   - Click **Next** to continue.

3. Review the consent screen summary:
   - Verify all details that will be shown to users.
   - Ensure the information accurately represents your app.

### Creating OAuth Client ID

<figure>
  ![Overview
  Diagram](@site/docs/sso/assets/integrations/google-social/0-3-setup-oauth-client.png)
  <figcaption>Creating OAuth Client in Google Cloud Console</figcaption>
</figure>

1. Return to the **Credentials** page.
2. Click **Create Credentials > OAuth Client ID**.
3. Select **Web Application** from the Application type dropdown.

### Finalizing Setup

1. Name your application.
2. Add authorized origins or redirect URIs as needed.
3. Locate the Redirect URL in Scalekit:
   - Navigate to Scalekit > Social > Google.
   - Copy the provided Redirect URL.
4. Paste the Redirect URL into the appropriate field in Google Cloud Console.

This setup enables user authentication via Google through your Scalekit-integrated app.

**Navigate to Social Login settings**

Open your Scalekit dashboard and navigate to Social Login under the Authentication section.

**Add a new Google connection**

Click the "+ Add Connection" button and select Google from the list of available options.

:::info

The instructions above are a summary of Google's instructions to set up OAuth 2.0 through Scalekit. Please [refer to Google's instructions to set up OAuth 2.0](https://support.google.com/cloud/answer/6158849) for comprehensive details.

:::

## Configure OAuth settings

The OAuth Configuration details page helps you set up the connection:

- Note the **Redirect URI** provided for your app. You'll use this URL to register with Google.
- **Client ID** and **Client Secret** are generated by Google when you register an OAuth App. They enable Scalekit to
  authenticate your app and establish trust with Google.

<figure>
  ![Configure OAuth
  settings](@site/docs/sso/assets/integrations/google-social/3-google-oauth-config.png)
  <figcaption>Google OAuth configuration in Scalekit, showing redirect URI, client credentials, and scopes for social login setup.</figcaption>
</figure>

**Set up Google OAuth 2.0**

Google lets you set up OAuth through the Google Cloud Platform.

- Use the Redirect URI from Scalekit as the Callback URL in Google's setup
- Copy the generated Client ID and Client Secret into the Scalekit Dashboard

After completing the setup, click "Save Changes" in Scalekit for the changes to take effect.

<figure>
  ![Google OAuth configuration for social login, showing redirect URI,
  client ID, and scopes for
  authentication.](@site/docs/sso/assets/integrations/google-social/4-after-oauth-config.png)
  <figcaption>Google OAuth configuration for social login, showing redirect URI, client ID, and scopes for authentication.</figcaption>
</figure>

## Test the Connection

Click the "Test Connection" button in Scalekit. You will be redirected to the Google Consent screen to authorize access.
A summary table will show the information that will be sent to your app.

<figure>
  ![Test connection
  success](@site/docs/sso/assets/integrations/google-social/5-successful-test-connection.png)
  <figcaption>Test connection success, showing the consent screen and summary table.</figcaption>
</figure>

## Next steps

Once the connection is set up, refer to our [Quickstart guide](/sso/social-login) to learn how to integrate this
connection into your app using the Scalekit SDK.
